import{a as r}from"./chunk-P37U34EQ.js";var c=document.cookie.split("; ").reduce((t,e)=>{let[o,i]=e.split("=");return t[o]=i,t},{});var n=+localStorage.getItem("tokenExpiresAt")||0;async function s(t=!0){let e=await fetch("/auth/refresh",{method:"POST"});if(e.ok){let{expiresAt:o}=await e.json();localStorage.setItem("tokenExpiresAt",o),n=o}else t&&(window.location.href="/page/login?next="+window.location.pathname)}r(s,"refreshToken");function f(t=!0){if(!n)return;let e=Date.now(),o=n-(n-e)*.2;e>o&&s(t)}r(f,"checkTokenRefresh");export{c as a,f as b};
//# sourceMappingURL=chunk-6H2JHQVY.js.map
