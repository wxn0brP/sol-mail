import"../chunk-XE75LTDN.js";import{b as l}from"../chunk-6H2JHQVY.js";import"../chunk-P37U34EQ.js";l();var s=qs("form"),t=qi("#filefield"),d=qi("#mailName"),m=qi("#body"),n=qs("#message");s.addEventListener("submit",async c=>{c.preventDefault();let r=d.value.trim();if(!r){n.textContent="Please enter a mail name";return}let i=m.value.trim();if(t.files.length===0&&!confirm("Are you sure you want to upload an empty file?"))return;let o=new FormData;o.append("mailName",r),i&&o.append("body",i);for(let e of t.files)o.append("filefield",e);let a=await fetch(`/api/files/${encodeURIComponent(r)}`,{method:"POST",body:o}).then(e=>e.json());a.err?n.innerHTML=a.msg:(n.innerHTML="Upload finished.",d.value="",t.value="")});
//# sourceMappingURL=upload.js.map
